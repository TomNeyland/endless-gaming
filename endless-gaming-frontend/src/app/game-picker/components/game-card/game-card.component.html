<div class="game-card" 
     [class.highlight-hover]="highlightOnHover"
     [class.has-score]="showScore">
  
  @if (hasValidGame()) {
    <div class="card-content">
      <!-- Cover Image -->
      <div class="cover-section">
        <img 
          [src]="getCoverImage()" 
          [alt]="game!.name"
          (error)="onImageError($event)"
          class="cover-image">
        
        <!-- Rank badge for recommendations -->
        @if (showScore && rank) {
          <div class="rank-badge">
            #{{ rank }}
          </div>
        }
      </div>

      <!-- Game Info -->
      <div class="info-section">
        <h3 class="game-title">{{ game!.name }}</h3>
        
        <div class="metadata">
          <div class="price">{{ getFormattedPrice() }}</div>
          <div class="genre">{{ getPrimaryGenre() }}</div>
        </div>

        <div class="developer">{{ getDeveloperText() }}</div>

        <!-- Tags -->
        <div class="tags">
          @for (tagData of getTopTags(3); track tagData.tag) {
            <span class="tag">{{ tagData.tag }}</span>
          }
        </div>

        <!-- Reviews -->
        <div class="reviews">{{ getReviewText() }}</div>

        <!-- Score for recommendations -->
        @if (showScore && score !== undefined) {
          <div class="score">
            Score: {{ getFormattedScore() }}
          </div>
        }
      </div>
    </div>
  } @else {
    <div class="empty-card">
      <p>No game data available</p>
    </div>
  }
</div>